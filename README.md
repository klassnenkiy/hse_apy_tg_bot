# Telegram Bot

## Описание
Этот бот помогает пользователям отслеживать и управлять своими целями по воде, калориям, а также записывать тренировки и пищу. Бот выполняет следующие функции:

- Расчёт норм воды и калорий.
- Трекинг потребления воды и калорий.
- Рекомендации по низкокалорийным продуктам.
- Построение график
- Продвинутое определение калорийности через API nutritionix.com
- Поддержка различных команд для удобного взаимодействия с ботом.

## Подтверждения деплоя
![подтверждение деплоя 2](https://github.com/user-attachments/assets/a6d4c427-d72c-40ec-86e9-6a6ecfae7c91)

## Скринкаст работы с демонстрацией того как работает телеграм-бот

[![Скринкаст работы с демонстрацией того как работает телеграм-бот](https://img.youtube.com/vi/mpeunKIr3YQ/0.jpg)](https://youtu.be/mpeunKIr3YQ)

[https://youtu.be/mpeunKIr3YQ](https://youtu.be/mpeunKIr3YQ)

## Основные возможности

1. **Настройка профиля пользователя**: Ввод данных о весе, росте, возрасте, активности и городе для расчёта норм воды и калорий.
2. **Запись воды**: Возможность записывать количество выпитой воды.
3. **Запись еды**: Пользователи могут вводить название продуктов, чтобы получить информацию о калориях.
4. **Запись тренировки**: Запись типа тренировки и времени, чтобы отслеживать потраченные калории.
5. **Прогресс**: Пользователи могут проверять свой прогресс по потреблению воды и калорий.
6. **Рекомендации по низкокалорийным продуктам**: Бот может рекомендовать продукты с низким содержанием калорий.
7. **Команды**: Полный список доступных команд.

## Реализация дополнительного функционала

### 1. Графики прогресса
Для более удобного отслеживания своих достижений, бот реализует функциональность построения графиков прогресса по потреблению воды и калорий. При использовании команды `/check_progress` бот отображает графики, которые показывают динамику:
- Потребления воды и достижения целей по воде.
- Потребления калорий и достижения целей по калориям.
- Сожжённые калории в зависимости от тренировки.

Эти графики помогают пользователям видеть, как они идут к своей цели и делают процесс более наглядным.

### 2. Рекомендации по низкокалорийным продуктам
Бот может предложить пользователям продукты с низким содержанием калорий на основе их целей. Логика работы рекомендаций может быть следующей:
- Для пользователей, стремящихся похудеть, бот будет показывать продукты с минимальной калорийностью, такие как овощи, низкокалорийные закуски и т.д.
- Для пользователей, стремящихся набрать вес, бот может порекомендовать продукты с высоким содержанием белка и углеводов.
- Рекомендации могут быть дополнены тренировками, направленными на увеличение сжигаемых калорий или улучшение физической формы.

### 3. Продвинутое определение калорийности продуктов
Бот использует более умный алгоритм для определения калорийности продуктов. Вместо простой базы данных с продуктами, он может интегрироваться с API (например, Nutritionix), чтобы более точно определять калорийность конкретных продуктов. Если пользователь вводит название продукта, бот будет искать его в базе данных и предоставлять точную информацию о калориях, а также может учитывать вес порции для более точного расчёта.

## Хендлеры и команды

### 1. `/start`
Приветствие и кнопки для взаимодействия с ботом. Пользователю предлагаются основные действия:
- Настроить профиль
- Записать воду
- Записать еду
- Записать тренировку
- Посмотреть прогресс
- Получить рекомендации

### 2. `/set_profile`
Настройка профиля пользователя. Пользователю предлагается ввести:
- Вес (в кг)
- Рост (в см)
- Возраст
- Минуты активности в день
- Город (для получения температуры и учёта погодных условий)

После ввода всех данных, бот рассчитывает норму воды и калорий.

### 3. `/log_water`
Запись потреблённой воды. Пользователь вводит количество выпитой воды в миллилитрах (например: `/log_water 100`).

### 4. `/log_food`
Запись съеденной пищи. Пользователь вводит название продукта (например: `/log_food банан`), и бот возвращает информацию о калориях для этого продукта.

### 5. `/log_workout`
Запись тренировки. Пользователь указывает тип тренировки и её продолжительность (например: `/log_workout бег 30`).

### 6. `/check_progress`
Просмотр прогресса по потреблению воды и калорий, а также сожжённым калориям. Бот показывает:
- Выпитую воду из цели
- Потреблённые калории из цели
- Сожжённые калории
- Графики прогресса

### 7. `/get_recommendations`
Получить рекомендации по низкокалорийным продуктам (например, для похудения). Бот возвращает список продуктов с их калорийностью.

### 8. `/show_commands`
Получить список доступных команд.

### 9. `/preset_profile`
Установить заранее подготовленный профиль с заранее заданными значениями (например, для тестирования).

## Пример использования

1. Пользователь запускает команду `/start`, чтобы начать взаимодействие.
2. Затем пользователь может настроить профиль с помощью команды `/set_profile`, после чего бот рассчитает норму воды и калорий.
3. Для записи потребления воды пользователь использует команду `/log_water`, а для записи пищи — `/log_food <название продукта>`.
4. Для записи тренировки — `/log_workout <тип тренировки> <время>`.
5. Пользователь может следить за своим прогрессом с помощью команды `/check_progress`.

## Структура данных профиля
Каждый пользователь имеет следующие данные в своём профиле:
- **weight**: Вес пользователя (кг)
- **height**: Рост пользователя (см)
- **age**: Возраст пользователя
- **activity**: Время активности в день (минуты)
- **city**: Город пользователя (для получения температуры)
- **water_goal**: Цель по воде (мл)
- **calorie_goal**: Цель по калориям (ккал)
- **logged_water**: Записанное количество выпитой воды (мл)
- **logged_calories**: Записанное количество потреблённых калорий (ккал)
- **burned_calories**: Сожжённые калории (ккал)

## Примечания
- В процессе использования бота пользователю необходимо вводить информацию в правильном формате. Например, для записи воды нужно использовать команду `/log_water <количество>`.
- Бот будет предоставлять рекомендации по низкокалорийным продуктам, если они доступны через Nutritionix API.

## Ссылка на бот
[t.me/tyulyagin_hse_bot](https://t.me/tyulyagin_hse_bot)

Проект выполнил Станислав Тюлягин
